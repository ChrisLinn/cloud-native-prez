# Cloud Native


---
# Service Mesh 的特点
+ 
+ 轻量级高性能网络代理
+ 提供安全的、快速的、可靠地服务间通讯
+ 解耦应用程序的重试/超时、监控、追踪和服务发现



<!-- 
Istio架构分为控制层和数据层:

+ 数据层：由一组智能代理（Envoy）作为sidecar部署，协调和控制所有microservices之间的网络通信。
+ 控制层：负责管理和配置代理路由流量，以及在运行时执行的政策。

https://jimmysong.io/posts/istio-overview/
https://jimmysong.io/posts/why-do-we-need-istio/
 -->


---

Kubernetes中的应用将作为微服务运行，但是Kuberentes本身并没有给出微服务治理的解决方案，比如服务的限流、熔断、良好的灰度发布支持等。

kube-proxy里基于iptables的原生负载均衡，并且服务间的流量也没有任何控制。

---
# 分布式追踪
将单体应用拆成多个微服务之后，监控服务之间的依赖关系和调用链，以判断应用在哪个服务环节出了问题，哪些地方可以优化

OpenTracing 是 CNCF 提出的分布式追踪的标准


---
![microservice-concern](https://chrislinn.ink/img/cloud-native/microservice-concern.jpg)


---
# micro-service
## pros
+ 关注于一个业务功能，松耦合，灵活性更高
+ 每个服务按需定制扩展
+ 可由不同团队独立开发，互不影响
+ 独立测试、部署、升级、发布, 持续交付,允许在频繁发布不同服务的同时保持系统其他部分的可用性和稳定性
+ 提高容错性, 不会让整个系统瘫痪
+ 不被技术栈限制

---
# micro-service
## cons
+ 可能带来代码重复
+ 提高了系统的复杂度
+ 引入分布式系统的复杂性
+ 往往使用异步编程、消息与并行机制，如果应用存在跨微服务的事务性处理，其实现机制会变得复杂化
+ 服务的注册与发现问题
+ 运维开销及成本增加




<!-- 
7. docker对比传统虚拟机的图？为什么微服务架构比较适合docker？比虚拟机好再哪里？
8. 在介绍使用层上带来的好处的时候，需要说下内部是什么原因造成了这个使用便利
9. 想知道k8s, docker这些的大体技术架构，单纯好处，坏处，感觉有点浅
10. 想知道是什么原因造成了云生升级的优势，从技术层，而不是直接带来的好处
16. 专注于技术架构，放弃使用方面

13. service mesh解决了什么问题，文字化核心点一下？
15. 想知道service mesh和k8s是怎么结合的，替换了k8s上的哪些模块？
16. 介绍server mesh的时候概念多听的有些模糊了，可否假设一个真实的案例来说明？
18. 听完之后缺少一种感觉，对k8s， server mesh模糊，不确定为什么要使用这一套
19. 想到点：cloude native的讲说案例可否直接使用Bycoin的服务器来解决？
20. 将cloude native的好处的时候，画个图？类似于k8s和iota是怎么样的？服务是怎么一个装备 -
 -->